import { useState, useEffect, useRef } from 'react';

interface SkillsProps {
  data: string[];
}

// Comprehensive icon library for technologies
const techIcons: { [key: string]: { icon: JSX.Element; color: string; glow: string } } = {
  'Java': {
    icon: (
      <svg viewBox="0 0 128 128" className="w-10 h-10">
        <path fill="currentColor" d="M47.617 98.12c-19.192 5.362 11.677 16.439 36.115 5.969-4.003-1.556-6.874-3.351-6.874-3.351-10.897 2.06-15.952 2.222-25.844 1.092-8.164-.935-3.397-3.71-3.397-3.71zm33.189-10.46c-14.444 2.779-22.787 2.69-33.354 1.6-8.171-.845-2.822-4.805-2.822-4.805-21.137 7.016 11.767 14.977 41.309 6.336-3.14-1.106-5.133-3.131-5.133-3.131zm11.319-60.575c.001 0-42.731 10.669-22.323 34.187 6.024 6.935-1.58 13.17-1.58 13.17s15.289-7.891 8.269-17.777c-6.559-9.215-11.587-13.793 15.634-29.58z"/>
      </svg>
    ),
    color: '#EA2D2E',
    glow: 'rgba(234, 45, 46, 0.5)'
  },
  'JavaScript': {
    icon: (
      <svg viewBox="0 0 128 128" className="w-10 h-10">
        <path fill="currentColor" d="M2 2v124h124V2H2zm66.12 111.52c-3.47 5.12-9.54 7.67-16.1 7.67-8.37 0-14.78-3.5-18.24-10.18l9.9-5.97c2.24 3.97 4.78 6.9 10.14 6.9 4.24 0 6.94-2.13 6.94-5.07 0-3.52-2.78-4.77-7.47-6.82l-2.56-1.1c-7.4-3.15-12.3-7.1-12.3-15.44 0-7.68 5.85-13.53 15-13.53 6.5 0 11.18 2.27 14.54 8.2l-7.97 5.12c-1.75-3.15-3.65-4.4-6.57-4.4-2.98 0-4.87 1.9-4.87 4.4 0 3.07 1.9 4.32 6.27 6.22l2.56 1.1c8.7 3.74 13.62 7.55 13.62 16.12 0 9.22-7.25 14.27-17 14.27l.1-.5zm36.27-.35c-2.47 4.4-5.92 7.67-12.53 7.67-6.6 0-10.77-3.25-12.83-7.52l9.9-5.68c1.3 2.33 2.47 4.33 5.3 4.33 2.7 0 4.4-1.07 4.4-5.2V71.3h12.2v41.9l-6.44-.03z"/>
      </svg>
    ),
    color: '#F7DF1E',
    glow: 'rgba(247, 223, 30, 0.5)'
  },
  'Spring Boot': {
    icon: (
      <svg viewBox="0 0 128 128" className="w-10 h-10">
        <path fill="currentColor" d="M116.452 6.643a59.104 59.104 0 01-6.837 12.136A64.249 64.249 0 0064.205-.026C28.984-.026 0 28.982 0 64.242a64.316 64.316 0 0019.945 46.562l2.368 2.1a64.22 64.22 0 0041.358 15.122c33.487 0 61.637-26.24 64.021-59.683 1.751-16.371-3.051-37.077-11.24-61.7zM29.067 111.17a5.5 5.5 0 01-4.269 2.034c-3.018 0-5.487-2.484-5.487-5.502 0-3.017 2.485-5.501 5.487-5.501 1.25 0 2.485.433 3.452 1.234 2.351 1.9 2.718 5.384.817 7.735zm87.119-19.238c-15.843 21.122-49.68 14.003-71.376 15.02 0 0-3.852.234-7.721.867 0 0 1.45-.617 3.335-1.334 15.226-5.301 22.43-6.335 31.685-11.086 17.427-8.869 34.654-28.274 38.24-48.463-6.637 19.422-26.75 36.11-45.077 42.895-12.557 4.635-35.238 9.136-35.238 9.136l-.917-.484c-15.442-7.518-15.91-40.977 12.157-51.78 12.291-4.735 24.048-2.134 37.323-5.302 14.175-3.367 30.568-14.004 37.238-27.874 7.471 22.19 16.46 56.932.35 78.405z"/>
      </svg>
    ),
    color: '#6DB33F',
    glow: 'rgba(109, 179, 63, 0.5)'
  },
  'NestJS': {
    icon: (
      <svg viewBox="0 0 128 128" className="w-10 h-10">
        <path fill="currentColor" d="M75.567 29.615c-1.264 0-2.386.46-3.223 1.154.604 2.386.92 4.63.92 6.59v.603c0 .604-.03 1.179-.086 1.754 1.35-.89 3.05-1.382 4.83-1.382 5.058 0 9.174 4.116 9.174 9.173 0 5.058-4.116 9.174-9.174 9.174-3.252 0-6.104-1.697-7.73-4.255-.89 1.495-1.897 2.875-2.99 4.116 2.558 3.137 6.418 5.143 10.72 5.143 7.615 0 13.805-6.19 13.805-13.805 0-7.472-5.948-13.548-13.363-13.776h-.029c-.029 0-.057 0-.086-.029-.029 0-.057 0-.086-.028h-.029c-.029 0-.057 0-.086 0-.029 0-.057 0-.086 0-.029 0-.057 0-.086 0-.029 0-.057 0-.115.029h-.029c-.029 0-.057 0-.086 0-.029 0-.057.028-.086.028-.029 0-.057 0-.086 0-.029.029-.086.029-.115.029-.029 0-.057 0-.086 0-.029.028-.057.028-.086.028-.029 0-.057.029-.115.029-.029 0-.057.028-.086.028-.029 0-.057.029-.086.029-.029.028-.057.028-.086.057-.029 0-.057.028-.086.028-.029.029-.057.029-.086.057-.029 0-.057.029-.086.029-.029.028-.057.057-.086.057-.029.028-.057.028-.086.057-.029.028-.057.057-.086.057s-.057.028-.086.057c-.029.028-.057.057-.086.057-.029.028-.057.057-.086.057-.029.028-.057.057-.086.086-.029.028-.057.057-.086.057-.029.028-.057.057-.057.086-.029.028-.057.057-.086.086-.029.028-.057.057-.057.086-.029.028-.057.057-.086.086-.029.028-.057.057-.057.086-.029.028-.057.057-.057.086-.029.028-.057.057-.057.086-.029.028-.029.057-.057.086-.029.028-.029.057-.057.086-.029.028-.029.057-.057.086-.029.028-.029.057-.029.086-.028.028-.028.057-.057.086 0 .028-.028.057-.028.086-.029.028-.029.057-.029.086-.028.028-.028.057-.028.086-.029.028-.029.057-.029.086-.028.028-.028.057-.028.086 0 .028-.029.057-.029.086 0 .028-.028.057-.028.086 0 .028 0 .057-.029.086 0 .028 0 .057-.028.086 0 .028 0 .057 0 .086 0 .028 0 .057-.029.086 0 .028 0 .057 0 .086 0 .028 0 .057 0 .086 0 .028 0 .057 0 .086v.086c0 .029 0 .057 0 .086v.057c0 .029 0 .057 0 .086 0 .028 0 .057 0 .086 0 .028 0 .057 0 .086 0 .028 0 .057.029.086 0 .028 0 .057.028.086 0 .028 0 .057.029.086 0 .028.028.057.028.086.029.028.029.057.029.086.028.028.028.057.028.086.029.028.029.057.057.086 0 .028.029.057.029.086.028.028.028.057.057.086.028.028.028.057.057.086.028.028.057.057.057.086.028.028.057.057.086.086.028.028.057.057.086.086.028.028.057.057.086.057.028.029.057.057.086.086.028.028.057.057.086.057.029.028.057.057.086.086l.086.057c.029.028.057.057.086.057.029.029.086.057.115.086.028.028.057.057.086.057.029.028.086.057.115.086.028.028.086.057.115.057.028.029.086.057.115.086.028.028.086.057.115.057.029.028.086.057.115.086.029.028.086.028.115.057.029.028.086.057.115.057.029.028.086.028.115.057.029.028.086.028.115.057.029.028.086.028.115.057.029.028.115.028.144.057.029.028.086.028.115.057h.029c.029.028.086.028.115.057.029 0 .086.028.144.028.029.029.086.029.115.057.029 0 .115.028.144.028.029.029.115.029.144.057.029 0 .115.029.144.029.057.028.115.028.172.028.029.029.115.029.144.029.057.028.115.028.172.028.057.029.115.029.172.029.057.028.115.028.172.028h.172c.057.029.115.029.172.029.057 0 .144.028.201.028.057 0 .115 0 .172.029h.201c.057 0 .115 0 .172 0 .057 0 .144 0 .201 0 .057 0 .144 0 .201 0h.172c.057 0 .144 0 .201 0 .086 0 .144 0 .23-.029h.172c.086 0 .172-.028.23-.028.086 0 .172-.029.23-.029.086 0 .172-.028.258-.028.086-.029.172-.029.258-.057.086 0 .172-.029.258-.057.086 0 .172-.029.258-.057.086-.028.172-.057.258-.057.086-.029.172-.057.258-.086.086-.028.172-.057.258-.086.086-.028.172-.057.23-.086.086-.028.172-.057.258-.115.086-.028.144-.057.23-.086.086-.028.144-.086.23-.115.086-.028.144-.057.23-.115.057-.029.144-.086.201-.115.086-.057.144-.086.23-.143.057-.029.144-.086.201-.115.086-.057.144-.086.201-.144.057-.028.144-.086.201-.143.057-.057.115-.086.172-.144.057-.057.115-.086.172-.143.057-.057.115-.115.172-.144.057-.057.115-.086.172-.143.057-.057.086-.115.144-.172.057-.057.086-.086.143-.143.057-.057.086-.115.144-.172.028-.057.086-.086.115-.143.057-.057.086-.115.115-.172.028-.057.057-.086.115-.143.028-.057.057-.115.086-.172.028-.057.057-.086.086-.143.028-.057.057-.115.086-.172.028-.057.028-.086.057-.143.028-.057.057-.115.057-.172.028-.057.028-.086.057-.143 0-.057.028-.115.057-.172 0-.057.028-.086.028-.143.029-.057.029-.115.029-.172.028-.057.028-.086.028-.143 0-.057.029-.115.029-.172 0-.057 0-.086 0-.143.029-.057.029-.115.029-.172 0-.057 0-.086 0-.143 0-.057 0-.115 0-.172 0-.057 0-.086 0-.143 0-.057 0-.115-.029-.172 0-.057 0-.115-.029-.172 0-.057-.028-.115-.028-.172-.029-.057-.029-.115-.057-.172 0-.057-.029-.115-.057-.172-.029-.057-.029-.115-.057-.172-.029-.057-.057-.115-.086-.172-.028-.057-.057-.115-.086-.172-.028-.057-.057-.115-.086-.172-.028-.057-.086-.115-.115-.172-.028-.057-.086-.115-.115-.172-.057-.057-.086-.115-.143-.172-.029-.057-.086-.115-.144-.172-.057-.057-.086-.115-.143-.172-.057-.057-.115-.115-.172-.172-.057-.057-.115-.115-.172-.172-.057-.057-.115-.115-.172-.172-.057-.057-.143-.115-.201-.172-.057-.057-.143-.115-.201-.172-.086-.057-.144-.115-.23-.172-.086-.057-.144-.115-.23-.172-.086-.057-.172-.115-.258-.172-.086-.057-.172-.115-.258-.172-.086-.057-.201-.115-.287-.172-.086-.057-.201-.115-.287-.143-.115-.057-.201-.086-.316-.143-.086-.057-.201-.086-.316-.143-.115-.029-.201-.086-.316-.115-.115-.028-.23-.086-.345-.115-.115-.028-.23-.057-.345-.086-.115-.028-.23-.057-.373-.086-.115-.028-.258-.057-.373-.057-.143-.028-.258-.028-.402-.057-.143 0-.258-.028-.402-.028-.143 0-.287 0-.43-.029h-.402c-.172 0-.316.029-.488.029-.143.028-.316.028-.46.057-.172.028-.316.057-.488.086-.143.028-.316.086-.46.115-.172.057-.316.086-.488.143-.143.057-.316.086-.46.172-.143.057-.316.115-.46.201-.143.057-.287.143-.43.201-.144.086-.287.144-.43.23-.115.086-.258.172-.373.258-.115.086-.23.172-.345.287-.115.086-.23.201-.316.287-.086.115-.172.201-.258.316-.086.086-.172.201-.23.316-.057.086-.143.201-.201.316-.057.115-.086.23-.143.345-.028.115-.086.23-.086.373-.028.115-.028.258-.028.373 0 .143 0 .258.028.402.029.115.057.258.115.373.057.143.115.258.201.373.057.115.143.23.23.345.086.086.172.2.287.287.086.086.2.172.316.258.086.057.2.143.316.201.086.057.2.115.316.143.086.057.2.086.316.115.086.028.23.057.345.086.086.028.23.028.345.057.086 0 .23.028.345.028.086 0 .23 0 .345-.028.086 0 .23-.029.345-.057.086-.029.23-.057.316-.086.086-.029.2-.086.316-.115.086-.057.172-.086.258-.143.086-.057.172-.086.23-.143.086-.057.144-.115.23-.172.057-.057.143-.115.2-.172.058-.057.115-.143.173-.2.057-.058.086-.144.143-.201.029-.086.086-.144.115-.23.028-.057.057-.143.086-.2.028-.086.028-.144.057-.23 0-.057.028-.143.028-.2 0-.086 0-.144 0-.23 0-.058 0-.144-.028-.201 0-.086-.029-.143-.057-.23-.029-.057-.057-.143-.086-.2-.029-.086-.086-.144-.115-.23-.057-.057-.086-.143-.143-.2-.057-.058-.115-.144-.172-.201-.057-.057-.115-.115-.172-.172-.057-.057-.143-.115-.2-.172-.058-.057-.144-.086-.201-.143-.086-.057-.144-.086-.23-.143-.057-.028-.143-.086-.2-.115-.086-.028-.144-.057-.23-.086-.057-.028-.144-.057-.201-.057-.086-.028-.144-.028-.23-.057-.057 0-.143-.028-.2-.028-.086 0-.144 0-.23 0-.058 0-.144 0-.201.028-.086 0-.143.029-.23.057-.057.029-.143.057-.2.086-.086.029-.144.086-.23.115-.057.057-.143.086-.2.143-.058.057-.115.115-.173.172-.057.057-.086.143-.143.2-.028.086-.086.144-.115.23-.028.086-.028.144-.057.23 0 .086 0 .144 0 .23 0 .086 0 .143.029.2.028.086.028.144.057.23.028.057.057.144.086.201.028.086.086.143.115.2.057.086.086.144.143.201.057.057.115.115.172.172.057.057.115.086.172.143.057.029.143.086.2.115.058.028.144.057.201.086.086.028.143.057.23.057.057.028.143.028.2.057h.23c.058 0 .144 0 .201-.029.086 0 .143-.028.23-.057.057-.028.143-.057.2-.086.086-.028.144-.086.23-.115.057-.057.143-.086.2-.143.058-.057.115-.115.173-.172.028-.057.086-.143.115-.2.028-.086.057-.144.086-.23.028-.057.028-.143.028-.2.029-.086.029-.144.029-.23 0-.057 0-.143-.029-.2 0-.086-.028-.144-.057-.23-.028-.057-.057-.143-.086-.2-.057-.058-.086-.144-.143-.201-.057-.057-.115-.115-.172-.172-.057-.057-.143-.086-.2-.143-.058-.029-.144-.086-.201-.115-.086-.028-.143-.057-.23-.086-.057-.028-.143-.028-.2-.057-.086 0-.144-.028-.23-.028-.058 0-.144 0-.201 0-.086 0-.143.028-.23.057-.057.028-.143.057-.2.086-.086.028-.144.086-.23.115-.057.057-.143.086-.2.143-.058.057-.115.115-.173.172-.057.057-.086.143-.143.2-.028.086-.086.144-.115.23-.028.086-.028.144-.057.23 0 .057 0 .143 0 .2 0 .086 0 .144.029.23 0 .057.028.143.057.2.028.086.057.144.086.23.057.057.086.143.143.2.057.058.115.115.172.173.057.057.143.086.2.143.058.028.144.086.201.115.086.028.143.057.23.086.057.028.143.028.2.057.086 0 .144.028.23.028.058 0 .144 0 .201 0 .086 0 .143-.028.23-.057.057-.028.143-.057.2-.086.086-.029.144-.086.23-.115.057-.057.143-.086.2-.143.058-.057.115-.115.173-.172.057-.057.086-.143.143-.2.028-.086.057-.144.086-.23.028-.086.028-.144.028-.23 0-.057.029-.143.029-.2 0-.086 0-.144-.029-.23 0-.057-.028-.143-.057-.2-.028-.086-.057-.144-.086-.23-.057-.057-.086-.143-.143-.2-.057-.058-.115-.115-.172-.173-.057-.057-.143-.086-.2-.143-.058-.028-.144-.086-.201-.115-.086-.028-.143-.057-.23-.086-.057-.028-.143-.028-.2-.057-.086 0-.144 0-.23-.028z"/>
      </svg>
    ),
    color: '#E0234E',
    glow: 'rgba(224, 35, 78, 0.5)'
  },
  'PostgreSQL': {
    icon: (
      <svg viewBox="0 0 128 128" className="w-10 h-10">
        <path fill="currentColor" d="M93.809 92.112c.785-6.533.55-7.492 5.416-6.433l1.235.108c3.742.17 8.637-.602 11.513-1.938 6.191-2.873 9.861-7.668 3.758-6.409-13.924 2.873-14.881-1.842-14.881-1.842 14.703-21.815 20.849-49.508 15.543-56.287-14.47-18.489-39.517-9.746-39.936-9.52l-.134.025c-2.751-.571-5.83-.912-9.289-.968-6.301-.104-11.082 1.652-14.535 4.410 0 0-44.683-18.409-42.604 23.151.442 8.842 12.672 66.898 27.26 49.362 5.332-6.412 10.484-11.834 10.484-11.834 2.558 1.699 5.622 2.567 8.834 2.255l.249-.212c-.078.796-.044 1.575.099 2.497-3.757 4.199-2.653 4.936-10.166 6.482-7.602 1.566-3.136 4.355-.221 5.084 3.535.884 11.712 2.136 17.238-5.598l-.22.882c1.474 1.18 1.375 8.477 1.583 13.69.209 5.214.558 10.079 1.621 12.948 1.063 2.868 2.317 10.256 12.191 8.14 8.252-1.764 14.561-4.309 15.136-27.96z"/>
      </svg>
    ),
    color: '#336791',
    glow: 'rgba(51, 103, 145, 0.5)'
  },
  'Redis': {
    icon: (
      <svg viewBox="0 0 128 128" className="w-10 h-10">
        <path fill="currentColor" d="M121.8 93.1c-6.7 3.5-41.4 17.7-48.8 21.6-7.4 3.9-11.5 3.8-17.3 1S13 98.1 6.3 94.9c-3.3-1.6-5-2.9-5-4.2V78.1s48-10.5 55.6-13.2c7.6-2.7 10.1-2.8 16.9-.4 6.8 2.4 50.5 10.4 50.5 10.4v12.5c0 1.3-1.5 2.7-4.5 5.7zM121.8 80.5C115.1 84 80.4 98.2 73 102.1c-7.4 3.9-11.5 3.8-17.3 1S13 85.5 6.3 82.3c-6.7-3.3-6.3-5.7-2.7-7.4 3.6-1.7 42.1-16.5 49.7-19.2 7.6-2.7 10.1-2.8 16.9-.4 6.8 2.4 46.4 18.1 50.1 19.8 3.6 1.7 8.2 3 1.5 5.4zM121.8 51c-6.7 3.5-41.4 17.7-48.8 21.6-7.4 3.9-11.5 3.8-17.3 1S13 56 6.3 52.8c-3.3-1.6-5-2.9-5-4.2V36s48-10.5 55.6-13.2c7.6-2.7 10.1-2.8 16.9-.4 6.8 2.4 50.5 10.4 50.5 10.4v12.5c0 1.3-1.5 2.7-4.5 5.7z"/>
      </svg>
    ),
    color: '#DC382D',
    glow: 'rgba(220, 56, 45, 0.5)'
  },
  'Kafka': {
    icon: (
      <svg viewBox="0 0 128 128" className="w-10 h-10">
        <path fill="currentColor" d="M64 0C28.7 0 0 28.7 0 64s28.7 64 64 64 64-28.7 64-64S99.3 0 64 0zm24.5 89.5c-2.8 0-5.3-1.1-7.2-2.9l-6.5 3.8c.4 1.2.6 2.5.6 3.9 0 5.8-4.7 10.5-10.5 10.5S54.4 100 54.4 94.3c0-5.8 4.7-10.5 10.5-10.5 2.8 0 5.3 1.1 7.2 2.9l6.5-3.8c-.4-1.2-.6-2.5-.6-3.9 0-1.3.2-2.6.6-3.8l-6.5-3.8c-1.9 1.8-4.4 2.9-7.2 2.9-5.8 0-10.5-4.7-10.5-10.5s4.7-10.5 10.5-10.5c2.8 0 5.3 1.1 7.2 2.9l6.5-3.8c-.4-1.2-.6-2.5-.6-3.9 0-5.8 4.7-10.5 10.5-10.5s10.5 4.7 10.5 10.5c0 5.8-4.7 10.5-10.5 10.5-2.8 0-5.3-1.1-7.2-2.9l-6.5 3.8c.4 1.2.6 2.5.6 3.9 0 1.3-.2 2.6-.6 3.8l6.5 3.8c1.9-1.8 4.4-2.9 7.2-2.9 5.8 0 10.5 4.7 10.5 10.5s-4.7 10.5-10.5 10.5z"/>
      </svg>
    ),
    color: '#231F20',
    glow: 'rgba(35, 31, 32, 0.5)'
  },
  'Docker': {
    icon: (
      <svg viewBox="0 0 128 128" className="w-10 h-10">
        <path fill="currentColor" d="M124.8 52.1c-4.3-2.5-10-2.8-14.8-1.4-.6-5.2-4-9.7-8-12.9l-1.6-1.3-1.4 1.6c-2.7 3.1-3.5 8.3-3.1 12.3.3 2.9 1.2 5.9 3 8.3-1.4.8-2.9 1.9-4.3 2.4-2.8 1-5.9 2-8.9 2H79V49H66V24H41v12H28V24H15v25H2v13H.1l-.1 1.1c-.1 1.1-.2 2.3-.2 3.5 0 12.1 7.3 23.1 18.1 27.8 5.7 2.5 12.8 3.3 18.9 3.3 15.8 0 32.5-5.4 44.7-18.6 4.4-4.7 7.6-10.2 9.4-16.4h.8c6.5 0 10.8-2.1 14.2-5.1 1.7-1.5 3.1-3.3 4.1-5.3l.7-1.4-1.9-1.2zM28 39h10v11H28V39zm13.1 44.2c0 .7-.6 1.3-1.3 1.3h-4.6c-.7 0-1.3-.6-1.3-1.3v-4.6c0-.7.6-1.3 1.3-1.3h4.6c.7 0 1.3.6 1.3 1.3v4.6zM28 52h10v11H28V52zm15-13h10v11H43V39zm0 13h10v11H43V52zm14-26h11v11H57V26zm0 13h11v11H57V39zm0 13h11v11H57V52zm15 0h11v11H72V52z"/>
      </svg>
    ),
    color: '#2496ED',
    glow: 'rgba(36, 150, 237, 0.5)'
  },
  'Kubernetes': {
    icon: (
      <svg viewBox="0 0 128 128" className="w-10 h-10">
        <path fill="currentColor" d="M64 1.2c-1.7 0-3.3.5-4.6 1.5L12.9 32.4c-2.7 1.9-4.3 5-4.3 8.3v47.4c0 3.3 1.6 6.4 4.3 8.3l46.5 29.7c2.7 1.9 6.2 1.9 9.2 0l46.5-29.7c2.7-1.9 4.3-5 4.3-8.3V40.7c0-3.3-1.6-6.4-4.3-8.3L68.6 2.7c-1.3-1-2.9-1.5-4.6-1.5zM64 18.4l29.3 18.7L64 55.9 34.7 37.1 64 18.4zm-34.7 26l29.3 18.8v37.5L29.3 82.1V44.4zm69.4 0v37.7l-29.3 18.6V63.2l29.3-18.8z"/>
      </svg>
    ),
    color: '#326CE5',
    glow: 'rgba(50, 108, 229, 0.5)'
  },
  'AWS': {
    icon: (
      <svg viewBox="0 0 128 128" className="w-10 h-10">
        <path fill="currentColor" d="M38.089 77.466l-11.4 4.896 10.559 4.514 12.241-4.514-11.4-4.896zm-15.07 6.39l-.759 20.784 13.484 5.841V89.439l-12.725-5.583zm29.769 0l-12.725 5.583v21.042l13.484-5.841-.759-20.784zM77.517 77.466l-11.4 4.896 10.559 4.514 12.241-4.514-11.4-4.896zm-15.071 6.39l-.759 20.784 13.485 5.841V89.439l-12.726-5.583zm29.77 0L79.49 89.44v21.042l13.484-5.841-.759-20.784zM58.803 58.133l-11.4 4.897 10.559 4.514 12.241-4.514-11.4-4.897zm-15.071 6.39l-.759 20.785 13.485 5.841V70.107l-12.726-5.584zm29.77 0l-12.726 5.584v21.042l13.485-5.841-.759-20.785z"/>
      </svg>
    ),
    color: '#FF9900',
    glow: 'rgba(255, 153, 0, 0.5)'
  },
  'Elasticsearch': {
    icon: (
      <svg viewBox="0 0 128 128" className="w-10 h-10">
        <path fill="currentColor" d="M64 8C33.1 8 8 33.1 8 64s25.1 56 56 56 56-25.1 56-56S94.9 8 64 8zM29.4 96c-5.5-8.1-8.7-17.9-8.7-28.5 0-5.1.8-10 2.2-14.6h32.3c-3.5 7.6-5.5 16.1-5.5 25.1 0 6.7 1 13.1 2.9 19.1H30.4c-.3-.4-.7-.7-1-1.1zm38.8 8.5c-1.3.1-2.7.2-4 .2-9.2 0-17.8-2.5-25.2-6.8h22c2.2 2.5 4.6 4.7 7.2 6.6zm31.9-36.5c0 10.8-3.3 20.8-8.9 29.1-.3.4-.6.8-1 1.1h-22c1.9-6 2.9-12.4 2.9-19.1 0-9-2-17.5-5.5-25.1H98c1.4 4.6 2.2 9.5 2.2 14.6-.1-.2-.1-.4-.1-.6zm-50.3-41c7.4-4.4 16.1-6.9 25.4-6.9 1.4 0 2.7.1 4.1.2-2.6 1.9-5 4.1-7.2 6.7H50.4c-.2 0-.4-.1-.6 0z"/>
      </svg>
    ),
    color: '#FEC514',
    glow: 'rgba(254, 197, 20, 0.5)'
  },
  'MongoDB': {
    icon: (
      <svg viewBox="0 0 128 128" className="w-10 h-10">
        <path fill="currentColor" d="M90.491 57.282c-.37-4.79-1.496-9.409-3.062-13.934-3.244-10.104-8.45-19.046-15.783-26.74-1.854-1.946-3.916-3.729-5.209-6.151-.818-1.532-1.597-3.085-2.394-4.629l-.505-1.273c-.085.292-.139.396-.142.501-.065 2.517-1.491 4.224-3.267 5.817-1.997 1.793-3.856 3.739-5.775 5.618-5.198 5.09-9.357 11.036-12.702 17.559-2.702 5.27-4.944 10.72-6.576 16.403-1.146 3.995-2.144 8.015-2.628 12.153-.453 3.871-.736 7.749-.675 11.634.085 5.458.807 10.84 2.102 16.139 1.518 6.215 3.858 12.14 7.149 17.652 1.833 3.071 3.895 5.994 6.358 8.586 1.182 1.246 2.487 2.379 3.831 3.456 1.013.81 2.133 1.482 3.302 2.065 1.317.656 2.717 1.039 4.235.768.908-.163 1.803-.423 2.679-.719 1.418-.479 2.721-1.177 3.928-2.019 2.167-1.511 4.021-3.372 5.645-5.473 3.175-4.108 5.545-8.667 7.488-13.46 1.997-4.924 3.509-9.995 4.545-15.199.935-4.703 1.516-9.448 1.706-14.234.129-3.245.104-6.496-.106-9.74zm-26.104 49.297c-.058.111-.121.22-.182.331l-.034-.071-.006-.014-.015-.031c.014.031.028.063.04.095.09-.181.171-.365.256-.549l-.059.239z"/>
      </svg>
    ),
    color: '#47A248',
    glow: 'rgba(71, 162, 72, 0.5)'
  },
  'RabbitMQ': {
    icon: (
      <svg viewBox="0 0 128 128" className="w-10 h-10">
        <path fill="currentColor" d="M117.5 56.8H93.9V33.6c0-2.4-2-4.4-4.4-4.4H66.9c-2.4 0-4.4 2-4.4 4.4v23.2H39.3c-2.4 0-4.4 2-4.4 4.4v22.6c0 2.4 2 4.4 4.4 4.4h23.2v23.2c0 2.4 2 4.4 4.4 4.4h22.6c2.4 0 4.4-2 4.4-4.4V88.2h23.6c2.4 0 4.4-2 4.4-4.4V61.2c0-2.4-2-4.4-4.4-4.4zM50.6 76.9c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8zm27.2 0c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8z"/>
      </svg>
    ),
    color: '#FF6600',
    glow: 'rgba(255, 102, 0, 0.5)'
  },
  'Grafana': {
    icon: (
      <svg viewBox="0 0 128 128" className="w-10 h-10">
        <path fill="currentColor" d="M119.2 53.6c-.7-3.7-2-7.2-3.9-10.4-1.9-3.2-4.3-6-7.1-8.3-2.8-2.3-6-4.2-9.5-5.5-3.5-1.3-7.2-2.1-11-2.3-.5 0-.9 0-1.4 0-1.9-3.3-4.4-6.2-7.4-8.6-3-2.4-6.4-4.2-10.1-5.5-3.7-1.3-7.6-1.9-11.5-1.9-3.9 0-7.8.6-11.5 1.9-3.7 1.2-7.1 3.1-10.1 5.5-3 2.4-5.5 5.3-7.4 8.6-.5 0-.9 0-1.4 0-3.8.2-7.5 1-11 2.3-3.5 1.3-6.7 3.2-9.5 5.5-2.8 2.3-5.2 5.1-7.1 8.3-1.9 3.2-3.2 6.7-3.9 10.4-.7 3.7-.8 7.5-.3 11.2.5 3.7 1.6 7.3 3.3 10.6 1.7 3.3 3.9 6.3 6.6 8.8 2.7 2.5 5.8 4.6 9.2 6.1.3 4.1 1.3 8 2.9 11.7 1.6 3.7 3.8 7 6.5 9.9 2.7 2.9 5.9 5.2 9.4 7 3.5 1.8 7.3 2.9 11.2 3.4 1.3.2 2.7.2 4 .2 1.3 0 2.7-.1 4-.2 3.9-.4 7.7-1.6 11.2-3.4 3.5-1.8 6.7-4.1 9.4-7 2.7-2.9 4.9-6.2 6.5-9.9 1.6-3.7 2.6-7.6 2.9-11.7 3.4-1.5 6.5-3.6 9.2-6.1 2.7-2.5 4.9-5.5 6.6-8.8 1.7-3.3 2.8-6.9 3.3-10.6.5-3.7.4-7.5-.3-11.2zM64 96c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"/>
      </svg>
    ),
    color: '#F46800',
    glow: 'rgba(244, 104, 0, 0.5)'
  },
  'Git': {
    icon: (
      <svg viewBox="0 0 128 128" className="w-10 h-10">
        <path fill="currentColor" d="M124.737 58.378L69.621 3.264c-3.172-3.174-8.32-3.174-11.497 0L46.68 14.71l14.518 14.518c3.375-1.139 7.243-.375 9.932 2.314 2.703 2.706 3.461 6.607 2.294 9.993l13.992 13.993c3.385-1.167 7.292-.413 9.994 2.295 3.78 3.777 3.78 9.9 0 13.679a9.673 9.673 0 01-13.683 0 9.677 9.677 0 01-2.105-10.521L68.574 47.933l-.002 34.341a9.708 9.708 0 012.559 1.828c3.778 3.777 3.778 9.898 0 13.683-3.779 3.777-9.904 3.777-13.679 0-3.778-3.784-3.778-9.905 0-13.683a9.65 9.65 0 013.167-2.11V47.333a9.581 9.581 0 01-3.167-2.111c-2.862-2.86-3.551-7.06-2.083-10.576L41.056 20.333 3.264 58.123a8.133 8.133 0 000 11.5l55.117 55.114c3.174 3.174 8.32 3.174 11.499 0l54.858-54.858a8.135 8.135 0 00-.001-11.501z"/>
      </svg>
    ),
    color: '#F05032',
    glow: 'rgba(240, 80, 50, 0.5)'
  }
};

export default function Skills({ data }: SkillsProps) {
  const [activeSkill, setActiveSkill] = useState<string | null>(null);
  const [isVisible, setIsVisible] = useState(false);
  const sectionRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          setIsVisible(true);
        }
      },
      { threshold: 0.2 }
    );

    if (sectionRef.current) {
      observer.observe(sectionRef.current);
    }

    return () => observer.disconnect();
  }, []);

  return (
    <section ref={sectionRef} id="skills" className="py-24 px-4 relative overflow-hidden">
      {/* Animated background */}
      <div className="absolute inset-0">
        <div className="absolute inset-0 bg-gradient-to-b from-transparent via-primary/5 to-transparent"></div>
        <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-gradient-radial from-primary/10 via-transparent to-transparent rounded-full blur-3xl animate-pulse-slow"></div>
      </div>

      <div className="container mx-auto max-w-6xl relative z-10">
        {/* Section Header */}
        <div className="text-center mb-20">
          <div className="inline-block">
            <div className="flex items-center justify-center gap-4 mb-6">
              <div className="h-px w-16 bg-gradient-to-r from-transparent via-primary to-primary"></div>
              <span className="text-primary font-mono text-sm tracking-widest uppercase">Tech Arsenal</span>
              <div className="h-px w-16 bg-gradient-to-l from-transparent via-primary to-primary"></div>
            </div>
            <h2 className="text-4xl lg:text-6xl font-bold mb-4">
              <span className="text-white">Skills &</span>{' '}
              <span className="gradient-text">Technologies</span>
            </h2>
            <p className="text-gray-400 font-mono text-sm max-w-lg mx-auto">
              Battle-tested tools and technologies I use to build robust, scalable systems
            </p>
          </div>
        </div>

        {/* Skills Hexagonal Grid */}
        <div className="relative">
          {/* Central glow effect */}
          {activeSkill && (
            <div
              className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 rounded-full blur-3xl transition-all duration-500 pointer-events-none"
              style={{
                backgroundColor: techIcons[activeSkill]?.glow || 'rgba(0, 217, 255, 0.3)',
                opacity: 0.6
              }}
            />
          )}

          {/* Skills grid */}
          <div className="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-5 gap-6 lg:gap-8">
            {data.map((skill, index) => {
              const tech = techIcons[skill] || {
                icon: <div className="w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center text-xl">?</div>,
                color: '#00D9FF',
                glow: 'rgba(0, 217, 255, 0.5)'
              };
              const isActive = activeSkill === skill;

              return (
                <div
                  key={skill}
                  className={`skill-hex-item relative group cursor-pointer transition-all duration-500 ${
                    isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'
                  }`}
                  style={{
                    transitionDelay: `${index * 50}ms`,
                  }}
                  onMouseEnter={() => setActiveSkill(skill)}
                  onMouseLeave={() => setActiveSkill(null)}
                >
                  {/* Hexagon container */}
                  <div
                    className={`relative flex flex-col items-center justify-center p-6 rounded-2xl transition-all duration-500 ${
                      isActive
                        ? 'bg-dark-gray/80 scale-110 shadow-2xl'
                        : 'bg-dark-gray/40 hover:bg-dark-gray/60'
                    }`}
                    style={{
                      boxShadow: isActive ? `0 0 40px ${tech.glow}, 0 0 80px ${tech.glow}` : 'none',
                      border: isActive ? `2px solid ${tech.color}` : '2px solid transparent'
                    }}
                  >
                    {/* Animated border on hover */}
                    <div
                      className={`absolute inset-0 rounded-2xl transition-opacity duration-300 ${isActive ? 'opacity-100' : 'opacity-0'}`}
                      style={{
                        background: `linear-gradient(135deg, ${tech.color}20, transparent, ${tech.color}20)`,
                      }}
                    />

                    {/* Icon with color */}
                    <div
                      className={`relative z-10 transition-all duration-500 ${isActive ? 'scale-125' : 'group-hover:scale-110'}`}
                      style={{ color: isActive ? tech.color : '#9CA3AF' }}
                    >
                      {tech.icon}
                    </div>

                    {/* Skill name */}
                    <span
                      className={`relative z-10 mt-3 text-xs font-mono font-medium text-center transition-all duration-300 ${
                        isActive ? 'text-white' : 'text-gray-500 group-hover:text-gray-300'
                      }`}
                    >
                      {skill}
                    </span>

                    {/* Floating particles on active */}
                    {isActive && (
                      <>
                        <div
                          className="absolute w-1 h-1 rounded-full animate-float-up"
                          style={{ backgroundColor: tech.color, top: '20%', left: '20%' }}
                        />
                        <div
                          className="absolute w-1 h-1 rounded-full animate-float-up-delay"
                          style={{ backgroundColor: tech.color, top: '30%', right: '25%' }}
                        />
                        <div
                          className="absolute w-1.5 h-1.5 rounded-full animate-float-up-delay-2"
                          style={{ backgroundColor: tech.color, bottom: '25%', left: '30%' }}
                        />
                      </>
                    )}
                  </div>

                  {/* Connection lines (visible on hover) */}
                  <div
                    className={`absolute -inset-2 rounded-3xl transition-opacity duration-300 pointer-events-none ${
                      isActive ? 'opacity-100' : 'opacity-0'
                    }`}
                    style={{
                      background: `radial-gradient(circle at center, ${tech.glow}, transparent 70%)`
                    }}
                  />
                </div>
              );
            })}
          </div>
        </div>

        {/* Active skill detail card */}
        <div className={`mt-16 transition-all duration-500 ${activeSkill ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4 pointer-events-none'}`}>
          <div className="terminal-window terminal-dots rounded-2xl p-8 pt-14 max-w-2xl mx-auto">
            <div className="font-mono text-sm">
              <div className="flex items-center gap-2 text-gray-400 mb-2">
                <span className="text-primary">$</span>
                <span>cat skills/{activeSkill?.toLowerCase().replace(/\s+/g, '-')}.info</span>
              </div>
              <div className="pl-4 border-l-2 border-primary/30">
                <p className="text-white text-lg mb-2" style={{ color: techIcons[activeSkill || '']?.color }}>
                  {activeSkill}
                </p>
                <p className="text-gray-400 text-sm">
                  {getSkillDescription(activeSkill || '')}
                </p>
              </div>
            </div>
          </div>
        </div>

        {/* Skill categories summary */}
        <div className="mt-20 grid grid-cols-2 md:grid-cols-4 gap-4">
          {[
            { label: 'Languages', count: 4, color: '#00D9FF' },
            { label: 'Databases', count: 5, color: '#7B2FFF' },
            { label: 'Cloud & DevOps', count: 4, color: '#FF006E' },
            { label: 'Tools', count: 2, color: '#00FF41' }
          ].map((category, index) => (
            <div
              key={category.label}
              className={`glass-effect p-4 rounded-xl text-center transition-all duration-500 hover:scale-105 ${
                isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'
              }`}
              style={{ transitionDelay: `${600 + index * 100}ms` }}
            >
              <div
                className="text-3xl font-bold mb-1"
                style={{ color: category.color }}
              >
                {category.count}+
              </div>
              <div className="text-gray-400 text-xs font-mono">{category.label}</div>
            </div>
          ))}
        </div>
      </div>
    </section>
  );
}

function getSkillDescription(skill: string): string {
  const descriptions: { [key: string]: string } = {
    'Java': 'Enterprise-grade applications with Spring Boot, Spring Modulith, and Virtual Threads for high-concurrency systems.',
    'JavaScript': 'Full-stack development with Node.js, NestJS, and React for building modern web applications.',
    'Spring Boot': 'Microservices architecture, RESTful APIs, and enterprise application development.',
    'NestJS': 'Scalable server-side applications with TypeScript, dependency injection, and modular architecture.',
    'PostgreSQL': 'Advanced query optimization, strategic indexing, and high-performance database design.',
    'Redis': 'Caching strategies, Lua scripts for atomic operations, and real-time data processing.',
    'Kafka': 'Event-driven architecture, message streaming, and distributed system communication.',
    'Docker': 'Containerization, multi-stage builds, and consistent development environments.',
    'Kubernetes': 'Container orchestration, auto-scaling, and production-grade deployments.',
    'AWS': 'ECS, Fargate, EC2, RDS, S3, and comprehensive cloud infrastructure management.',
    'Elasticsearch': 'Full-text search, analytics, and log aggregation for large-scale applications.',
    'MongoDB': 'Document-based data modeling and NoSQL database management.',
    'RabbitMQ': 'Message queuing, event-driven communication, and inter-service messaging.',
    'Grafana': 'Real-time monitoring dashboards, metrics visualization, and alerting systems.',
    'Git': 'Version control, branching strategies, and collaborative development workflows.'
  };
  return descriptions[skill] || 'Experienced in building production-ready applications.';
}
